services:
    browser:
        command:
        - /config/browser.jsonnet
        expose:
        - 9980
        image: buildbarn/bb-browser:20220908T160318Z-f32489a
        ports:
        - 7984:7984
        volumes:
        - ./config:/config
    frontend:
        command:
        - /config/frontend.jsonnet
        expose:
        - 9980
        image: buildbarn/bb-storage:20220912T104841Z-b7137ec
        ports:
        - 8980:8980
        volumes:
        - ./config:/config
    linux_x86_64_runner:
        command:
        - sh
        - -c
        - while ! test -f /bb/installed; do sleep 1; done; exec /bb/tini -v -g --
            /bb/bb_runner /config/linux_x86_64_runner.jsonnet
        depends_on:
        - runner-installer
        image: blaizard/linux_x86_64:latest
        network_mode: none
        volumes:
        - ${WORKER_STORAGE_PATH}:/worker
        - ${WORKER_STORAGE_PATH}/bb:/bb
        - ./config:/config
    linux_x86_64_worker:
        command:
        - /config/linux_x86_64_worker.jsonnet
        image: buildbarn/bb-worker:20220912T200427Z-e664853
        ports:
        - 7986:7986
        volumes:
        - ./config:/config
        - ${WORKER_STORAGE_PATH}:/worker
    runner-installer:
        image: buildbarn/bb-runner-installer:20220912T200427Z-e664853
        volumes:
        - ${WORKER_STORAGE_PATH}/bb:/bb
    scheduler:
        command:
        - /config/scheduler.jsonnet
        expose:
        - 8982
        - 8983
        - 9980
        image: buildbarn/bb-scheduler:20220912T200427Z-e664853
        ports:
        - 7982:7982
        volumes:
        - ./config:/config
    storage-0:
        command:
        - /config/storage.jsonnet
        expose:
        - 8981
        - 9980
        image: buildbarn/bb-storage:20220912T104841Z-b7137ec
        volumes:
        - ./config:/config
        - ${STORAGE_PATH}/storage-ac-0:/storage-ac
        - ${STORAGE_PATH}/storage-cas-0:/storage-cas
version: '3'
