{
    "flow": [
        {
            "action": "config.layout",
            "args": [
                "config1",
                "terminal:main",
                "terminal:old"
            ]
        },
        {
            "action": "config.name",
            "args": [
                "main",
                "Ubuntu 20.04"
            ]
        },
        {
            "action": "config.name",
            "args": [
                "old",
                "Ubuntu 16.04"
            ]
        },
        {
            "action": "exec",
            "args": [
                "docker run -it --rm -v $(pwd):/build ubuntu:16.04",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "cd build",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "clear",
                "old"
            ]
        },
        {
            "action": "config.select",
            "args": [
                "editor"
            ]
        },
        {
            "action": "file.create",
            "args": [
                "check.cc"
            ]
        },
        {
            "action": "file.write",
            "args": [
                "check.cc",
                "#include <iostream>\n#include <filesystem>\n\nint main(int argc, char** argv)\n{\n\tif (argc != 2) return 1;\n\tstd::cout << std::filesystem::exists(argv[1]) << std::endl;\n\treturn 0;\n}\n"
            ]
        },
        {
            "action": "config.select",
            "args": [
                "config1"
            ]
        },
        {
            "action": "exec",
            "args": [
                "g++ check.cc -o check -std=c++17",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./check",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./check",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd ./check",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd -v ./check",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "g++ check.cc -o check_static -std=c++17 -static-libstdc++",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./check_static",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd -v ./check_static",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ls -lh",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "strip ./check_static",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ls -lh",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "g++ check.cc -o check_static -std=c++17 -static-libstdc++ -ffunction-sections -fdata-sections -Wl,--gc-sections",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ls -lh",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "strip ./check_static",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ls -lh",
                "main"
            ]
        },
        {
            "action": "config.select",
            "args": [
                "editor"
            ]
        },
        {
            "action": "file.create",
            "args": [
                "exit.cc"
            ]
        },
        {
            "action": "file.write",
            "args": [
                "exit.cc",
                "#include <cstdlib>\n\nint main()\n{\n\tstd::quick_exit(1);\n}\n"
            ]
        },
        {
            "action": "config.select",
            "args": [
                "config1"
            ]
        },
        {
            "action": "exec",
            "args": [
                "clear",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "clear",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "g++ exit.cc -o exit",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./exit",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./exit",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd -v exit",
                "old"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd -v exit",
                "main"
            ]
        },
        {
            "action": "config.layout",
            "args": [
                "config1",
                "terminal:main",
                "terminal:old",
                "terminal:build"
            ]
        },
        {
            "action": "exec",
            "args": [
                "docker run -it --rm -v $(pwd):/build debian/eol:wheezy",
                "build"
            ]
        },
        {
            "action": "config.name",
            "args": [
                "build",
                "Old Debian Wheezy"
            ]
        },
        {
            "action": "exec",
            "args": [
                "apt-get update && apt-get install g++",
                "build"
            ]
        },
        {
            "action": "exec",
            "args": [
                "g++ exit.cc -o exit",
                "build"
            ]
        },
        {
            "action": "exec",
            "args": [
                "ldd -v exit",
                "build"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./exit",
                "main"
            ]
        },
        {
            "action": "exec",
            "args": [
                "./exit",
                "old"
            ]
        }
    ],
    "name": "build"
}
